<section data-type="chapter">
<h1>CSS3 Paged Media</h1>

<p>The paged media module was introduced along with CSS3, and takes print formatting with CSS to the next level. It's exactly what it sounds like: new properties a rules targeted specifically at content that is going to be rendered into distinct pages. The paged media module redefines the CSS box model to apply specifically to the printed page, and gives designers control over things like page size, header and footer content, and more.</p>

<section data-type="sect1">
<h1>The Box and Page Models</h1>

<p>The box model in CSS defines various content areas around block elements (like divs, ps, and so on): the margin area is the space between the element and it's neighbors; the border area is a reserved space for adding a border around the element; the padding area adds space between the border and the actual content of the element; and the content area is where the actual content of the element goes.</p>

<p>INSERT FIGURE: the box model vs. the page model</p>

<p>In paged media, you've got the <em>page</em> model. It's similar in concept to the box model (which, by the way, still applies to block level elements within a page), but adjusted to fit the needs of the page as the primary content wrapper. In the page model, every page of a document has all the same areas as the box model--margin, border, padding, and content--and each of these areas can be defined within a <code>@page</code> rule.</p>

<p>Additionally, the margin area of each page is actually split into 16 subdivisions, each of which can be formatted differently. Unlike the box model, in the context of a page, the margin area doesn't actually control the space between a page and its neighbors. A page is a finite space, after all, and doesn't meet it's neighbors. So here, the margin area acts the way that we think of margins on a page: it's a frame around a page that you can format or fill with supplemental information like page numbers or headers. The padding area then controls the space between the content of these 16 margin areas, and the actual page content (and you've still got the border area in between, if you want to use it).</p>

<p>INSERT FIGURE: the 16 parts of the margin area</p>

<p>You can style each margin subdivision completely differently within the @page rule, and just to get really crazy, each of the 16 margin subdivisions has a box model of its own. This means that each individual block can have a margin (separating it from it's surrounding margin areas), a border, padding, and content.</p>

<pre data-code-language="css" data-original-title="" data-type="programlisting" title="">
@page {
  @top-left {
    margin-left: 0.12in;
    padding: 6pt;
    border-bottom: 1pt solid cmyk(0%,0%,0%,100%);
    }
  @top-center {
    margin: 0;
    padding: 3pt;
    background-color: cmyk(0%,0%,0%,30%);
  }
}
</pre>

<p>INSERT FIGURE: what the above code would render as</p>

<p>This gives you a lot of control over laying out page elements like folios (this is the fancy term for page numbers), running headers and footers, and any other items you want on the page, outside the main book content. You can also add dynamic text using strings and counters, as discussed in TKXREF.</p>
</section>

<section data-type="sect1">
<h1>@page: The Page Rule</h1>

<p>The crux of paged media is the <code>@page</code> rule. <code>@page</code> allows you to define layout at the page level. When the content is rendered into pages, the properties you define with the <code>@page</code> rule will apply to every page (or subset of pages, as defined by you) of your document.&nbsp;<span style="line-height: 1.5em;">If you've ever used page layout programs like InDesign or FrameMaker, then you can think of @page rules as master pages: templates that consistently define the broad structure of every page in the document.</span></p>

<p><span style="line-height: 1.5em;">Here's a basic @page definition:</span></p>

<pre data-code-language="css" data-original-title="" data-type="programlisting" title="">
@page {
  size: 6in 9in;
&nbsp; margin: 0.5in;
}
</pre>

<p>This simple definition says that every single page in your document will be six inches wide by nine inches tall, with a half inch margin on all sides--thus, the content area would be 5in x 8in. The rendered page might look like this:</p>

<p>INSERT FIGURE: rendered page</p>

<p>This rule would apply to all pages, but you can also limit your <code>@page</code> rules to apply only to a subset of the pages of your document, using a couple of different methods.</p>

<p>First, there are a few pseudo classes built into the paged media spec that apply directly to <code>@page</code>. These pseudo classes limit the scope of the page rule to a predefined subset of pages: first, left, and right. As you'd expect, <code>:first</code> limits a definition only to the first page of a rule; and if you imagine that the bound book is lying open in front of you, the <code>:left</code> pseudo class applies only to left hand pages, and conversely <code>:right</code> applies to the right hand pages.</p>

<p>The other way to create more specified <code>@page</code> rules is by using page selectors.</p>

<p>A page selector creates a user-defined subset of pages to apply styles to. They work a lot like the pseudo classes, except that you get to decide what pages your styles apply to, based on the HTML elements in your document. For example, you could apply custom page styling to all <code>&lt;section&gt;</code> elements, or you could limit that styling only to the <code>&lt;section&gt;</code> elements with a class of <code>.chapter</code>.</p>

<p>You can create and define the scope of a page selector at the same time using the page property, as follows:</p>

<pre data-original-title="" data-type="programlisting" title="">
section.chapter {
&nbsp; page: chapter;
}
</pre>

<p>In the above example, I've created a page selector called &quot;chapter&quot;--you can name your page selectors whatever you want, though it's generally best to pick a name that is clear and descriptive, and easy to remember. My new &quot;chapter&quot; page selector is applied to sections that have a class of <code>.chapter</code>. (You'll notice that I used the same word--chapter--as both my class name and my page selector; even though I used the same word, they aren't related except coincidentally.)</p>

<p>You then combine your new page selector with the @page rule, like this:</p>

<p>@page chapter {</p>

<p>&nbsp; background-color: cmyk(0%,0%,0%,30%);</p>

<p>}</p>

<p>In the above example, pages containing elements that use the chapter page selector will have a light gray background color.</p>

<p>In general, applying a new page rule to an element will force that element to start on a new page. For example, if your section.chapter follows a section.preface, you won't get half a gray page. Instead, the section.chapter will start on a new, all-gray page.</p>
</section>

<p>text</p>

<p>stuff</p>
</section>
